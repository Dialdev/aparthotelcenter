{"version":3,"sources":["assets/js/jquery.smt-menu-main.js"],"names":["$","Plugin","option","this","each","$this","data","options","SmtMenuMain","element","extend","DEFAULTS","$element","lastElementWidth","container","$container","attr","parent","$cloneList","clone","removeClass","$cloneListChildren","children","addClass","append","moreLinkClass","moreLinkContent","width","$children","clearHtml","contents","filter","index","nodeType","test","nodeValue","remove","resize","window","on","proxy","debounce","prototype","containerWidth","measureWidth","counter","countHidden","i","length","elementWidth","outerWidth","css","old","fn","smtMenuMain","Constructor","noConflict","call","jQuery"],"mappings":"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","file":"jquery.smt-menu-main.min.js","sourcesContent":["+function ($) {\n    'use strict';\n\n    var SmtMenuMain = function (element, options) {\n        this.options = $.extend({}, SmtMenuMain.DEFAULTS, options);\n        this.$element = $(element);\n        this.lastElementWidth = 0;\n\n        if (this.options.container) {\n            this.$container = $(this.options.container);\n        } else if (this.$element.attr('data-container')) {\n            this.$container = $(this.$element.attr('data-container'));\n        } else {\n            this.$container = this.$element.parent();\n        }\n\n        this.$cloneList = $(element).clone().removeClass();\n        this.$cloneListChildren = this.$cloneList.children();\n\n        this.$cloneList.children().addClass('hidden');\n        $(this.$element).append('<li><a href=\"#\" class=\"' + this.options.moreLinkClass + '\">' + this.options.moreLinkContent + '</a>');\n        this.lastElementWidth = $('> li:last-child', this.$element).width();\n        $('> li:last-child', this.$element).append(this.$cloneList).addClass('hidden');\n\n        this.$children = $(element).children();\n\n        if(this.options.clearHtml) {\n            this.$element.contents().filter(function(index, element) {\n                return element.nodeType == 3 && /\\S/.test(element.nodeValue) === false;\n            }).remove();\n        }\n        this.resize();\n        $(window).on('resize.smt-menu-main', $.proxy($.debounce(this.resize, 25), this))\n    };\n\n    SmtMenuMain.DEFAULTS = {\n        moreLinkClass: 'smt-more-link',\n        moreLinkContent: '...',\n        clearHtml: false\n    };\n\n    SmtMenuMain.prototype.resize = function () {\n        var containerWidth = this.$container.width();\n        var widthLastElement = this.lastElementWidth;\n        var measureWidth = containerWidth - widthLastElement;\n\n        var width = 0;\n        var counter = 0;\n        var countHidden = 0;\n        for(var i = 0; i<this.$children.length-1; i++) {\n            var elementWidth = $(this.$children[i]).data('cacheWidth');\n            if (!elementWidth) {\n                elementWidth = $(this.$children[i]).outerWidth(true);\n                $(this.$children[i]).data('cacheWidth', elementWidth);\n            }\n            width += elementWidth;\n\n            if (i == this.$children.length-2 && countHidden == 0) {\n                measureWidth = containerWidth;\n            }\n\n            if (width > measureWidth) {\n                $('> li:last-child', this.$element).removeClass('hidden');\n                $(this.$children[i]).addClass('hidden');\n                $(this.$cloneListChildren[i]).removeClass('hidden');\n                countHidden += 1;\n            } else {\n                $(this.$children[i]).removeClass('hidden');\n                $(this.$cloneListChildren[i]).addClass('hidden');\n                counter += 1;\n            }\n        }\n        if (counter == this.$children.length-1) {\n            $('> li:last-child', this.$element).addClass('hidden');\n        }\n        this.$element.css('overflow', 'visible');\n    };\n\n    function Plugin(option) {\n        return this.each(function () {\n            var $this   = $(this);\n            var data    = $this.data('bs.smt-menu-main');\n            var options = typeof option == 'object' && option;\n\n            if (!data) $this.data('bs.smt-menu-main', (data = new SmtMenuMain(this, options)));\n            if (typeof option == 'string') data[option]();\n        })\n    }\n\n    var old = $.fn.smtMenuMain;\n\n    $.fn.smtMenuMain             = Plugin;\n    $.fn.smtMenuMain.Constructor = SmtMenuMain;\n\n    $.fn.smtMenuMain.noConflict = function () {\n        $.fn.smtMenuMain = old;\n        return this\n    };\n\n    $(window).on('load', function () {\n        $('[data-smt-menu=\"collapsed\"]').each(function () {\n            Plugin.call($(this), $(this).data())\n        })\n    });\n}(jQuery);"]}